var GithubOrganizationEventManager=function(e,a,s){function t(){for(var a=0;_>a;a++){var s='<div class="event_container">';s+=o(g[a]),s+=l(g[a]),s+="</div>",document.getElementById(e).innerHTML+=s}}function o(e){var a='<div class="left_info"><div class="author"><img src="'+e.actor.avatar_url+'s=30" alt="'+e.actor.login+'" /></div>';switch(e.type){case"PushEvent":a+='<div class="icon"><span class="octicon octicon-git-commit" title="Commit"></span></div>';break;case"CreateEvent":a+=r(e.payload.ref_type);break;case"IssuesEvent":a+=n(e.payload.action);break;case"IssueCommentEvent":a+='<div class="icon"><span class="octicon octicon-comment-discussion" title="'+e.type+'"></span></div>';break;case"PullRequestEvent":a+='<div class="icon"><span class="octicon octicon-git-pull-request" title="'+e.type+'"></span></div>';break;case"GollumEvent":a+='<div class="icon"><span class="octicon octicon-book" title="'+e.type+'"></span></div>';break;case"WatchEvent":a+='<div class="icon"><span class="octicon octicon-eye-watch" title="'+e.type+'"></span></div>';break;default:a+='<div class="icon"><span class="octicon octicon-flame" title="'+e.type+'"></span></div>'}var s=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dec"],t=new Date(e.created_at);return a+='<div class="date">'+t.getDate()+" "+s[t.getMonth()]+"</div></div>"}function l(e){var a='<div class="right_info">';switch(e.type){case"PushEvent":a+=i(e);break;case"CreateEvent":a+=c(e);break;case"IssuesEvent":a+=u(e);break;case"IssueCommentEvent":a+=p(e);break;case"PullRequestEvent":a+=d(e);break;case"GollumEvent":a+=m(e);break;case"WatchEvent":a+=b(e);break;default:a+='<span class="octicon octicon-flame" title="'+e.type+'"></span>'}return a+="</div>"}function r(e){var a="";switch(e){case"repository":a='<div class="icon"><span class="octicon octicon-repo" title="Repository"></span></div>';break;case"branch":a='<div class="icon"><span class="octicon octicon-git-branch" title="Branch"></span></div>';break;case"tag":a='<div class="icon"><span class="octicon octicon-tag" title="Tag"></span></div>';break;default:a='<div class="icon"><span class="octicon octicon-flame" title="Flame"></span>'+e+"</div>"}return a}function n(e){var a="";switch(e){case"assigned":a='<div class="icon"><span class="octicon octicon-issue-assigned" title="Issue assigned"></span></div>';break;case"unassigned":a='<div class="icon"><span class="octicon octicon-issue-unassigned" title="Issue unassigned"></span></div>';break;case"labeled":a='<div class="icon"><span class="octicon octicon-issue-labeled" title="Issue labeled"></span></div>';break;case"unlabeled":a='<div class="icon"><span class="octicon octicon-issue-unlabeled" title="Issue unlabeled"></span></div>';break;case"opened":a='<div class="icon"><span class="octicon octicon-issue-opened" title="Issue opened"></span></div>';break;case"closed":a='<div class="icon"><span class="octicon octicon-issue-closed" title="Issue closed"></span></div>';break;case"reopened":a='<div class="icon"><span class="octicon octicon-issue-reopened" title="Issue reopened"></span></div>';break;default:a='<div class="icon"><span class="octicon octicon-flame" title="Flame"></span>'+e+"</div>"}return a}function i(e){var a="",s=e.payload.ref.replace("refs/heads/","");a+='pushed to branch: <a href="'+h(e.repo.url,s)+'">'+s+"</a><br />",a+='of repository: <a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+='<ul class="listCommit">';var t=1,o=0;e.payload.commits.length<=k?t=e.payload.commits.length:(t=k,o=e.payload.commits.length-k);for(var l=0;t>l;l++)a+='<li><a href="'+f(e.payload.commits[l].url)+'">'+e.payload.commits[l].message+"</a></li>";return o>0&&(a+="<li>and "+o+" more ...</li>"),a+="</ul>"}function c(e){var a="";switch(e.payload.ref_type){case"repository":a='created repository: <a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+=e.payload.description;break;case"branch":a='created branch: <a href="'+y(e.repo.url)+"/tree/"+e.payload.ref+'">'+e.payload.ref+"</a><br />",a+='of repository: <a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+=e.payload.description;break;case"tag":a='created tag: <a href="'+y(e.repo.url)+"/tree/"+e.payload.ref+'">'+e.payload.ref+"</a><br />",a+='at: <a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+=e.payload.description;break;default:a='<div class="icon"><span class="octicon octicon-flame" title="Flame"></span>'+e.payload.ref_type+"</div>"}return a}function u(e){var a="";switch(e.payload.action){case"assigned":a='Assigned issue <a href="'+e.payload.issue.html_url+'">#'+e.payload.issue.number+"</a> to "+e.payload.issue.assignee;break;case"unassigned":a='Unassigned issue <a href="'+e.payload.issue.html_url+'">#'+e.payload.issue.number+"</a> at "+e.payload.issue.assignee;break;case"labeled":a="The label "+e.payload.label.name+' was added at issue <a href="'+e.payload.issue.html_url+'">#'+e.payload.issue.number+"</a>";break;case"unlabeled":a="The label "+e.payload.label.name+' was removed at issue <a href="'+e.payload.issue.html_url+'">#'+e.payload.issue.number+"</a>";break;case"opened":a='Opened issue <a href="'+e.payload.issue.html_url+'">#'+e.payload.issue.number+"</a> on ",a+='<a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+=e.payload.issue.title;break;case"closed":a='Closed issue <a href="'+e.payload.issue.html_url+'">#'+e.payload.issue.number+"</a> on ",a+='<a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+=e.payload.issue.title;break;case"reopened":a='Reopened issue <a href="'+e.payload.issue.html_url+'">#'+e.payload.issue.number+"</a> on ",a+='<a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+=e.payload.issue.title;break;default:a='<div class="icon"><span class="octicon octicon-flame" title="Flame"></span>'+e.payload.action+"</div>"}return a}function p(e){var a="";return a='Commented on issue <a href="'+e.payload.issue.html_url+'">#'+e.payload.issue.number+"</a> on ",a+='<a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+=e.payload.comment.body}function d(e){var a="";switch(e.payload.action){case"assigned":a+='Assigned Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on ";break;case"unassigned":a+='Unassigned Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on ";break;case"labeled":a+='Added Label at Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on ";break;case"unlabeled":a+='Removed Label at Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on ";break;case"opened":a+='Opened Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on ";break;case"closed":a+=e.payload.merged?'Closed and merged Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on ":'Closed Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on ";break;case"reopened":a+='Reopened Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on ";break;case"synchronize":a+='Synchronize Pull request <a href="'+e.payload.pull_request.html_url+'">#'+e.payload.pull_request.number+"</a> on "}return a+='<a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+=e.payload.pull_request.title}function m(e){var a="";a+='on repository: <a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a><br />",a+='<ul class="listCommit">';for(var s=0;s<e.payload.pages.length;s++)switch(e.payload.pages[s].action){case"created":a+='<li>created new wiki page <a href="https://github.com'+e.payload.pages[s].html_url+'">'+e.payload.pages[s].title+"</a></li>";break;case"edited":a+='<li>edited wiki page <a href="https://github.com'+e.payload.pages[s].html_url+'">'+e.payload.pages[s].title+"</a></li>"}return a+="</ul>"}function b(e){var a="";return a+="started"==e.payload.action?'started to follow repository <a href="'+y(e.repo.url)+'">'+v(e.repo.name)+"</a>":'New event action actualy not managed, please open a new <a href="https://github.com/bobboteck/Widget_GitHub_Organization/issues/new">Issue</a>'}function y(e){return e.replace("https://api.github.com/repos/","https://github.com/")}function h(e,a){var s=y(e);return s+="/tree/"+a}function v(e){return e.replace(a+"/","")}function f(e){var a=y(e);return a=a.replace("commits","commit")}s=s||{};var g,_=void 0===s.ItemToDisplay?10:s.ItemToDisplay,k=void 0===s.CommitEventMaxItemToDisplay?2:s.CommitEventMaxItemToDisplay;this.GetData=function(){var e=new XMLHttpRequest;e.dataType="json",e.open("GET","https://api.github.com/orgs/"+a+"/events?per_page="+_,!0),e.setRequestHeader("Accept","application/vnd.github.v3.raw+json"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(g=JSON.parse(e.response),t())},e.send()}};